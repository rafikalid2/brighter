<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript" src="../dest/jquery-3.2.1.min.js"></script>
</head>
<body>

<script type="text/javascript">
(function($){
	var _element;
	var _builder = {
		attr	: function(attrName, attrValue){
			_element.setAttribute(attrName, attrValue);
			return this;
		},
		text	: function(value){
			var txt	= document.createTextNode(value);
			_element.appendChild(txt);
			return this;
		},
		append	: function(child){
			_element.appendChild(child);
			return this;
		},
		insertBefore : function(element){
			_element.insertBefore(element);
			return this;
		},
		on		: function(type, listener){
			if(_element.addEventListener)
				_element.addEventListener(type, listener, false);
			else if(_element.attachEvent) // ie
				_element.attachEvent(type, listener);
			else
				throw new Error('Could not attach event.');
		},
		build	: function(){
			return _element;
		}
	};
	
	$.createElement	= function(tagName){
		_element	= document.createElement(tagName);
		return _builder;
	};
})(jQuery);


function _create(tagName){
	return new _createElement(tagName);
}

function _createElement(tagName){
	this.ele = document.createElement(tagName);
	return this;
}

$.extend(_createElement.prototype, {
	attr	: function(attrName, attrValue){
		this.ele.setAttribute(attrName, attrValue);
		return this;
	},
	build	: function(){
		return this.ele;
	}
})

//////////////////////////////////////////////////////////////////////////////////

var count	= 10000;



function _run(){
	// console.log('---- with jQuery');
	// var dt = Date.now();
	// var $div = $('<div>');
	// for(var i = 0; i < count; ++i)
	// 	$('<div class="btn">').appendTo($div);
	// console.log('--- end at: ', Date.now() - dt, 'ms');
		
	console.log('---- with native');
	var dt = Date.now();
	var $div = document.createElement('div');
	for(var i = 0; i < count; ++i){
		var dv = document.createElement('div');
		dv.className	= 'btn';
		$div.appendChild(dv);
	}
	console.log('--- end at: ', Date.now() - dt, 'ms');

		
	console.log('---- with my fx builder');
	var dt = Date.now();
	var $div = $.createElement('div').build();
	for(var i = 0; i < count; ++i){
		var dv = $.createElement('div').attr('class', 'btn').build();
		$div.appendChild(dv);
	}
	console.log('--- end at: ', Date.now() - dt, 'ms');

	console.log('---- with my fx svg');
	var dt = Date.now();
	var $div = _create('div').build();
	for(var i = 0; i < count; ++i){
		var dv = _create('div').attr('class', 'btn').build();
		$div.appendChild(dv);
	}
	console.log('--- end at: ', Date.now() - dt, 'ms');

}
	


	
</script>
</body>
</html>